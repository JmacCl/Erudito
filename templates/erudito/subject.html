{% extends 'erudito/base.html' %}
{% load static %}


{% block title_block %}
    {% if subject %}
        {{ subject.name }}
    {% endif %}
{% endblock %}

{% block body_block %}
    {% if user.is_authenticated %}
        {% for thread, vote in votes %}
        <div>
        <li>{{ thread.title }} <button class="btn btn-sm" type="button"> <a href="{% url 'eruditoapp:show_thread' subject.slug thread.slug %}"><span data-feather="plus-circle"></span> </a> </button></li>
                    <strong id="like_count{{ thread.id }}">{{ thread.score }} likes</strong><br>
                    {% if vote %}
                    <button id= "threadbtn{{ thread.id }}"
                            data-threadid="{{ thread.id }}"
                            class="thread_like_btn btn btn-primary btn-sm"
                            type="button">
    
                        <span data-feather="thumbs-up"></span>
    
                    </button>
                    {% endif %}
        </div>
        {% endfor %}
        <p><a href= "{% url 'eruditoapp:add_thread' subject.slug %}">Add Thread</a></p>




    {% else %}
        {% for thread in threads %}
            <li>{{ thread.title }} <button class="btn btn-sm" type="button"> <a href="{% url 'eruditoapp:show_thread' subject.slug thread.slug %}"><span data-feather="plus-circle"></span> </a> </button> </li>
                <strong id="like_count{{ thread.id }}"> {{ thread.score }} likes</strong> <br>      
        {% endfor %}
        
        <p> To create a thread or like you must <a href= "{% url 'eruditoapp:login' %}">log in</a></p>
        <p> Don't have an account? <a href= "{% url 'eruditoapp:register' %}">Sign Up</a></p>
    {% endif %}    
    <p><a href= "useful-resources.html">Useful Resources</a></p>
{% endblock %}


{#<li> <a href="{% url 'eruditoapp:show_thread' subject.slug thread.slug %}"> {{ thread.title }} -- {{ thread.score }} </a></li>#}
